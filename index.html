<!DOCTYPE html>
<html ng-app="prettyApi">
  <head>
    <title>Canvas REST API and Extensions</title>
    <link type="text/css" rel="stylesheet" media="all" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" media="all" href="css/main.css">
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">Canvas Developer Documentation</a>
      </div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">REST API and Extensions</a></li>
        <li><a href="https://canvas.beta.instructure.com/styleguide">Style Guide</a></li>
        <!-- li><a href="#">Ember Components</a></li -->
      </ul>
    </nav>

    <div ng-show="loading" class="spinner">
      <i class="glyphicon glyphicon-repeat"></i>
    </div>

    <div class="container2" ng-controller="AppController" ng-cloak>
      <div style="width: 200px;position: fixed;left: 0;top:50px;">
        <input type="search" autofocus ng-model="query" style="outline: none;width: 100%;height: 40px;border: 0;padding: 8px;" placeholder="Search" />
      </div>
      <div style="position:fixed;top: 90px;bottom: 0;left: 0;overflow:scroll;width: 200px;">
        <div class="list-group">
          <div class="list-group-item">
            <h4 class="list-group-item-heading">Resources</h4>
          </div>
          <a ng-repeat="resource in api.resources | filter:{name:query} | orderBy:'name'" ng-click="switchTo(resource.name)" ng-href="#{{resource.name}}" ng-class="{active:active_resource==resource.name}" class="list-group-item">
              {{resource.name}}
          </a>
        </div>
      </div>

      <div style="position:absolute; left: 200px;padding: 18px;top: 50px;">
        <h1 style="margin-top:0;">REST API and Extensions</h1>
        <h2>Resources</h2>
        <div class="resource" ng-repeat="resource in api.resources | orderBy:'name'" id="{{resource.name}}">
          <h3>{{resource.name}}</h3>
          <div ng-repeat="service in resource.services">
            <div>
              <h5 ng-click="service.expanded = !service.expanded">
                <div class="button-container">
                  <button ng-show="service.method == 'GET'" type="button" class="btn btn-sm btn-primary">GET</button>
                  <button ng-show="service.method == 'POST'" type="button" class="btn btn-sm btn-success">POST</button>
                  <button ng-show="service.method == 'PUT'" type="button" class="btn btn-sm btn-info">PUT</button>
                  <button ng-show="service.method == 'DELETE'" type="button" class="btn btn-sm btn-danger">DELETE</button>
                </div>
                <span class="endpoint">{{service.endpoint}}</span>
              </h5>
            </div>

            <div class="expansion" ng-show="service.expanded">
              <table class="table table-striped table-bordered arguments">
                <tbody>
                  <tr ng-repeat="argument in service.arguments">
                    <th ng-bind-html-unsafe="argument.name | splitter"></th>
                    <td ng-bind-html-unsafe="argument.type | splitter"></td>
                    <td>
                      {{argument.description}}
                      <table ng-show="parameter.possible_values" class="table table-striped table-condensed table-bordered" style="margin: 0;">
                        <tbody>
                          <tr ng-repeat="(value,description) in parameter.possible_values">
                            <td>{{value}}</td>
                            <td>{{description}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <hr />
        </div>
      </div>
    </div>
    <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>